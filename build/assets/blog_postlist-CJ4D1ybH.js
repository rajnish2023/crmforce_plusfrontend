import{r as t,j as e,C as y,L as i}from"./index-CNDwPbcK.js";import{B as b}from"./api-B9qGc84N.js";import{C as S,a}from"./CRow-C_mFcwcj.js";import{a as d}from"./CContainer-CCuO_NJc.js";import{C as w}from"./CInputGroup-BUs0JMgv.js";import{C as B}from"./CFormInput-D4b8rLgv.js";import{C as T,a as L,b as x,c as o,d as P,e as r}from"./CTable-DMjTmETu.js";const D=()=>{const[h,c]=t.useState([]),[l,j]=t.useState(""),[m,n]=t.useState(!1),g=localStorage.getItem("token"),u=async()=>{try{const s=await b(g);n(!0),Array.isArray(s.data)?(c(s.data),n(!1)):c([])}catch(s){console.error("Error fetching blog posts:",s)}};t.useEffect(()=>{u()},[]);const C=s=>{j(s.target.value)},p=h.filter(s=>s.title.toLowerCase().includes(l.toLowerCase())||s.slug.toLowerCase().includes(l.toLowerCase()));return e.jsxs(e.Fragment,{children:[m&&e.jsx("div",{className:"loading-overlay",children:e.jsxs("div",{className:"loading-content",children:[e.jsx(y,{color:"primary",size:"lg"}),e.jsx("p",{children:"Please wait, Your request is processing..."})]})}),e.jsxs(S,{children:[e.jsx(a,{xs:6,className:"d-flex justify-content-start",children:e.jsx(d,{color:"primary",children:e.jsx(i,{to:"/blog-post/create",style:{textDecoration:"none",color:"#fff"},children:"Create Blog Post"})})}),e.jsx(a,{xs:6,className:"d-flex justify-content-end",children:e.jsx(w,{children:e.jsx(B,{placeholder:"Search blog posts...",value:l,onChange:C})})}),e.jsx(a,{xs:12,className:"mt-4",children:e.jsxs(T,{striped:!0,hover:!0,children:[e.jsx(L,{children:e.jsxs(x,{children:[e.jsx(o,{scope:"col",children:"#"}),e.jsx(o,{scope:"col",children:"Title"}),e.jsx(o,{scope:"col",children:"Slug"}),e.jsx(o,{scope:"col",children:"Category"}),e.jsx(o,{scope:"col",children:"Status"}),e.jsx(o,{scope:"col",children:"Actions"})]})}),e.jsx(P,{children:p.map((s,f)=>e.jsxs(x,{children:[e.jsx(r,{children:f+1}),e.jsx(r,{children:s.title}),e.jsx(r,{children:s.slug}),e.jsx(r,{children:s.category.title}),e.jsx(r,{children:s.status}),e.jsx(r,{children:e.jsx(d,{className:"mx-3",color:"info",children:e.jsx(i,{to:`/blog-post/update/${s._id}`,style:{color:"white"},children:"Edit"})})})]},s._id))})]})})]})]})};export{D as default};
