import{r as s,w as N,k as b,j as e,C as S}from"./index-CNDwPbcK.js";import{R}from"./api-B9qGc84N.js";/* empty css                  */import{b as E,a as k}from"./CContainer-CCuO_NJc.js";import{C as x,a as g}from"./CRow-C_mFcwcj.js";import{C as q}from"./CCard-B7_pa8np.js";import{C as F}from"./CCardBody-ChFyFuQj.js";import{C as z}from"./CForm-CIYK7ixP.js";import{C as f}from"./CFormInput-D4b8rLgv.js";const J=()=>{const[a,C]=s.useState(""),[c,w]=s.useState(""),[m,t]=s.useState(""),[u,o]=s.useState(""),{token:n}=N(),i=b(),[j,d]=s.useState(!1),v=r=>C(r.target.value),y=r=>w(r.target.value);s.useEffect(()=>{n||i("/login")},[n,i]);const P=async r=>{var p,h;if(d(!0),r.preventDefault(),a!==c){o("Passwords do not match"),t(""),d(!1);return}try{const l=await R({password:a,token:n});t(l.data.message),i("/login"),o("")}catch(l){o(((h=(p=l.response)==null?void 0:p.data)==null?void 0:h.message)||"Error occurred"),t("")}finally{d(!1)}};return e.jsxs(e.Fragment,{children:[j&&e.jsx("div",{className:"loading-overlay",children:e.jsxs("div",{className:"loading-content",children:[e.jsx(S,{color:"primary",size:"lg"}),e.jsx("p",{children:"Please wait, Your request is processing..."})]})}),e.jsx("div",{className:"d-flex justify-content-center align-items-center min-vh-100 bg-light-gradient",children:e.jsx(E,{children:e.jsx(x,{className:"justify-content-center",children:e.jsx(g,{md:6,lg:4,children:e.jsx(q,{className:"shadow-lg border-0 rounded-5 p-4",children:e.jsx(F,{children:e.jsxs(z,{onSubmit:P,children:[e.jsx("h4",{className:"text-center font-weight-bold mb-4 text-dark",children:"Reset Your Password"}),m&&e.jsx("div",{className:"alert alert-success text-center",children:m}),u&&e.jsx("div",{className:"alert alert-danger text-center",children:u}),e.jsx(f,{type:"password",placeholder:"Enter new password",value:a,onChange:v,className:"mb-3",required:!0}),e.jsx(f,{type:"password",placeholder:"Confirm new password",value:c,onChange:y,className:"mb-3",required:!0}),e.jsx(x,{children:e.jsx(g,{xs:12,children:e.jsx(k,{color:"primary",className:"w-100 px-4 py-3 rounded-3 text-white",style:{fontSize:"16px"},type:"submit",children:"Reset Password"})})})]})})})})})})})]})};export{J as default};
