import{r as t,j as s}from"./index-CNDwPbcK.js";import{C as o}from"./index.esm-Dsfv9R7D.js";import{m as g}from"./api-B9qGc84N.js";import{b as P,a as y}from"./CContainer-CCuO_NJc.js";import{C as u,a as C}from"./CRow-C_mFcwcj.js";import{C as N}from"./CCardGroup-D1W5eWns.js";import{C as b}from"./CCard-B7_pa8np.js";import{C as v}from"./CCardBody-ChFyFuQj.js";import{C as S}from"./CForm-CIYK7ixP.js";import{C as n}from"./CInputGroup-BUs0JMgv.js";import{C as c}from"./CInputGroupText-D6clsvLr.js";import{a as d}from"./cil-user-Dlmw-Gem.js";import{C as l}from"./CFormInput-D4b8rLgv.js";const J=()=>{const[m,x]=t.useState(""),[e,h]=t.useState(""),[i,w]=t.useState(""),[p,a]=t.useState(""),j=localStorage.getItem("token"),f=async r=>{if(r.preventDefault(),a(""),e!==i){a("Passwords do not match");return}if(e.length<6){a("Password must be at least 6 characters long");return}try{await g(j,{currentPassword:m,newPassword:e}),alert("Password updated successfully")}catch{a("Failed to update password")}};return s.jsx("div",{className:"bg-body-tertiary min-vh-90 d-flex flex-row align-items-center",children:s.jsx(P,{children:s.jsx(u,{className:"justify-content-center",children:s.jsx(C,{md:6,children:s.jsx(N,{children:s.jsx(b,{className:"p-4",children:s.jsx(v,{children:s.jsxs(S,{onSubmit:f,children:[s.jsx("p",{className:"text-center",children:"Change Password"}),p&&s.jsx("p",{className:"text-danger text-center",children:p}),s.jsxs(n,{className:"mb-4",children:[s.jsx(c,{children:s.jsx(o,{icon:d})}),s.jsx(l,{type:"password",placeholder:"Current Password",autoComplete:"current-password",value:m,onChange:r=>x(r.target.value)})]}),s.jsxs(n,{className:"mb-4",children:[s.jsx(c,{children:s.jsx(o,{icon:d})}),s.jsx(l,{type:"password",placeholder:"New Password",autoComplete:"new-password",value:e,onChange:r=>h(r.target.value)})]}),s.jsxs(n,{className:"mb-4",children:[s.jsx(c,{children:s.jsx(o,{icon:d})}),s.jsx(l,{type:"password",placeholder:"Confirm Password",autoComplete:"confirm-password",value:i,onChange:r=>w(r.target.value)})]}),s.jsx(u,{children:s.jsx(C,{xs:6,children:s.jsx(y,{type:"submit",color:"primary",className:"px-4",children:"Change Now"})})})]})})})})})})})})};export{J as default};
