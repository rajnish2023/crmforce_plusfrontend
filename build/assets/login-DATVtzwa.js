import{r as o,k as I,j as e,L as S}from"./index-CNDwPbcK.js";import{C as u}from"./index.esm-Dsfv9R7D.js";import{u as k}from"./api-B9qGc84N.js";import{b as L,a as p}from"./CContainer-CCuO_NJc.js";import{C as x,a as h}from"./CRow-C_mFcwcj.js";import{C as E}from"./CCardGroup-D1W5eWns.js";import{C as j}from"./CCard-B7_pa8np.js";import{C}from"./CCardBody-ChFyFuQj.js";import{C as B}from"./CForm-CIYK7ixP.js";import{C as f}from"./CInputGroup-BUs0JMgv.js";import{C as g}from"./CInputGroupText-D6clsvLr.js";import{c as F,a as P}from"./cil-user-Dlmw-Gem.js";import{C as y}from"./CFormInput-D4b8rLgv.js";const Q=()=>{const[i,b]=o.useState(""),[n,w]=o.useState(""),[a,t]=o.useState(""),[l,c]=o.useState(!1),v=I(),N=async s=>{var d,m;if(s.preventDefault(),t(""),!i||!n){t("Both fields are required!");return}c(!0);try{const r=await k({email:i,password:n});r.data.token?(localStorage.setItem("token",r.data.token),v("/dashboard",{replace:!0})):t(r.error||"An unknown error occurred.")}catch(r){t(((m=(d=r==null?void 0:r.response)==null?void 0:d.data)==null?void 0:m.error)||"An error occurred. Please try again later.")}finally{c(!1)}};return e.jsx("div",{className:"bg-body-tertiary min-vh-100 d-flex flex-row align-items-center",children:e.jsx(L,{children:e.jsx(x,{className:"justify-content-center",children:e.jsx(h,{md:8,children:e.jsxs(E,{children:[e.jsx(j,{className:"p-4",children:e.jsx(C,{children:e.jsxs(B,{onSubmit:N,children:[e.jsx("h3",{children:"Login"}),e.jsx("p",{className:"text-body-secondary",children:"Sign In to your account"}),e.jsxs(f,{className:"mb-3",children:[e.jsx(g,{children:e.jsx(u,{icon:F})}),e.jsx(y,{placeholder:"Email",autoComplete:"email",value:i,onChange:s=>b(s.target.value),invalid:!!a})]}),e.jsxs(f,{className:"mb-4",children:[e.jsx(g,{children:e.jsx(u,{icon:P})}),e.jsx(y,{type:"password",placeholder:"Password",autoComplete:"current-password",value:n,onChange:s=>w(s.target.value),invalid:!!a})]}),a&&e.jsx("div",{className:"text-danger mb-3",children:e.jsx("small",{children:a})}),e.jsx(x,{children:e.jsx(h,{xs:6,children:e.jsx(p,{color:"primary",className:"px-4",type:"submit",disabled:l,children:l?"Logging In...":"Login"})})})]})})}),e.jsx(j,{className:"text-white bg-primary py-5",style:{width:"44%"},children:e.jsx(C,{className:"text-center",children:e.jsxs("div",{children:[e.jsx("p",{children:"If you want to forget your password, please click Forgot Password Button."}),e.jsx(S,{to:"/register",children:e.jsx(p,{color:"primary",className:"mt-3",active:!0,tabIndex:-1,children:"Forgot Now!"})})]})})})]})})})})})};export{Q as default};
